(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(t,e,a)=>{"use strict";var r=t.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;a.c=function(t){return r.H.useMemoCache(t)}},932,(t,e,a)=>{"use strict";e.exports=t.r(79474)},43567,t=>{"use strict";var e=t.i(43476),a=t.i(932),r=t.i(71645);let o=(0,r.createContext)(void 0);function n(t){let n,l,u,s,c,i,S=(0,a.c)(12),{children:_}=t,[d,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[f,v]=(0,r.useState)(null),[N,O]=(0,r.useState)(!0);S[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{let t=localStorage.getItem("auth_token"),e=localStorage.getItem("user_data"),a=localStorage.getItem("tenant_data");t&&e&&a&&(v(t),m(JSON.parse(e)),g(JSON.parse(a))),O(!1)},l=[],S[0]=n,S[1]=l):(n=S[0],l=S[1]),(0,r.useEffect)(n,l),S[2]===Symbol.for("react.memo_cache_sentinel")?(u=async(t,e,a)=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,subdomain:a})}),o=await r.json();if(o.success)return v(o.data.token),m(o.data.user),g(o.data.user.tenant),localStorage.setItem("auth_token",o.data.token),localStorage.setItem("user_data",JSON.stringify(o.data.user)),localStorage.setItem("tenant_data",JSON.stringify(o.data.user.tenant)),!0;return!1}catch(t){return console.error("Login error:",t),!1}},S[2]=u):u=S[2];let y=u;S[3]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{m(null),g(null),v(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("tenant_data")},S[3]=s):s=S[3];let A=s,I=!!f&&!!d;S[4]!==I||S[5]!==h||S[6]!==f||S[7]!==d?(c={user:d,tenant:h,token:f,login:y,logout:A,isAuthenticated:I},S[4]=I,S[5]=h,S[6]=f,S[7]=d,S[8]=c):c=S[8];let T=!N&&_;return S[9]!==c||S[10]!==T?(i=(0,e.jsx)(o.Provider,{value:c,children:T}),S[9]=c,S[10]=T,S[11]=i):i=S[11],i}function l(){let t=(0,r.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>n,"useAuth",()=>l])}]);